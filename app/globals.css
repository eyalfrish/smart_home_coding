/* ============================================
   CSS Variables - Light Theme (Default)
   ============================================ */
:root {
  /* Base colors */
  --background: #f5f5f5;
  --foreground: #0f172a;
  --foreground-secondary: #1e293b;
  
  /* Mobile-specific */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --touch-target-min: 44px;
  --mobile-spacing: 16px;
  --mobile-radius: 14px;
  
  /* Semantic colors */
  --accent: #2563eb;
  --accent-hover: #1d4ed8;
  --panel: #16a34a;
  --warning: #ea580c;
  --danger: #dc2626;
  --muted: #64748b;
  --muted-foreground: #94a3b8;
  
  /* Surface colors */
  --card: #ffffff;
  --card-hover: #fafafa;
  --surface: #f8fafc;
  --surface-elevated: #ffffff;
  
  /* Border colors */
  --border: rgba(15, 23, 42, 0.08);
  --border-strong: rgba(15, 23, 42, 0.15);
  --border-input: rgba(15, 23, 42, 0.18);
  
  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.05);
  --shadow-md: 0 4px 12px rgba(15, 23, 42, 0.08);
  --shadow-lg: 0 20px 45px rgba(15, 23, 42, 0.08);
  --shadow-xl: 0 25px 50px rgba(15, 23, 42, 0.15);
  
  /* Table specific */
  --table-header-bg: rgba(15, 23, 42, 0.03);
  --table-row-hover: rgba(15, 23, 42, 0.02);
  --table-border: rgba(15, 23, 42, 0.08);
  
  /* Button specific */
  --button-secondary-bg: rgba(15, 23, 42, 0.08);
  --button-secondary-hover: rgba(15, 23, 42, 0.12);
  
  /* Badge backgrounds */
  --badge-panel-bg: rgba(22, 163, 74, 0.12);
  --badge-accent-bg: rgba(37, 99, 235, 0.12);
  --badge-warning-bg: rgba(234, 88, 12, 0.12);
  --badge-danger-bg: rgba(220, 38, 38, 0.15);
  --badge-muted-bg: rgba(148, 163, 184, 0.18);
  
  /* Input/Form */
  --input-bg: #ffffff;
  --input-border: rgba(15, 23, 42, 0.18);
  --input-focus-ring: rgba(37, 99, 235, 0.15);
  
  /* Modal */
  --modal-overlay: rgba(15, 23, 42, 0.5);
  --modal-bg: #ffffff;
  
  /* Toggle (theme switcher) */
  --toggle-bg: rgba(15, 23, 42, 0.06);
  --toggle-border: rgba(15, 23, 42, 0.1);
  --toggle-hover: rgba(15, 23, 42, 0.1);
  --toggle-text: #64748b;
  --toggle-active-bg: #ffffff;
  --toggle-active-text: #0f172a;
  
  /* Status colors */
  --success-bg: rgba(22, 163, 74, 0.08);
  --warning-bg: rgba(202, 138, 4, 0.08);
  --error-bg: rgba(220, 38, 38, 0.08);
  
  /* Light entity (on state) */
  --light-on-gradient: linear-gradient(135deg, #fcd34d 0%, #f59e0b 100%);
  --light-on-text: #78350f;
  --light-on-shadow: rgba(245, 158, 11, 0.4);
  --light-off-bg: rgba(100, 116, 139, 0.2);
  
  /* Code/mono text */
  --code-bg: rgba(15, 23, 42, 0.05);
  
  /* Direct/Link device highlights - LIGHT MODE: deeper, richer colors */
  --highlight-direct: #15803d;
  --highlight-direct-glow: rgba(21, 128, 61, 0.7);
  --highlight-direct-glow-outer: rgba(21, 128, 61, 0.35);
  --highlight-link: #6d28d9;
  --highlight-link-glow: rgba(109, 40, 217, 0.6);
  --highlight-link-glow-outer: rgba(109, 40, 217, 0.3);
  --highlight-row-bg: rgba(109, 40, 217, 0.06);
  
  /* Thorough mode colors - LIGHT MODE: warm brown/amber */
  --thorough-bg: linear-gradient(135deg, rgba(180, 83, 9, 0.12) 0%, rgba(146, 64, 14, 0.08) 100%);
  --thorough-border: rgba(180, 83, 9, 0.3);
  --thorough-text: #78350f;
  --thorough-hint: #92400e;
  --thorough-accent: #b45309;
  --thorough-input-border: rgba(180, 83, 9, 0.4);
  --thorough-suffix-bg: rgba(180, 83, 9, 0.18);

  font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ============================================
   CSS Variables - Dark Theme
   ============================================ */
:root.dark,
[data-theme="dark"] {
  /* Base colors */
  --background: #0f172a;
  --foreground: #f1f5f9;
  --foreground-secondary: #e2e8f0;
  
  /* Semantic colors */
  --accent: #3b82f6;
  --accent-hover: #60a5fa;
  --panel: #22c55e;
  --warning: #f97316;
  --danger: #ef4444;
  --muted: #94a3b8;
  --muted-foreground: #64748b;
  
  /* Surface colors */
  --card: #1e293b;
  --card-hover: #283548;
  --surface: #1e293b;
  --surface-elevated: #283548;
  
  /* Border colors */
  --border: rgba(148, 163, 184, 0.1);
  --border-strong: rgba(148, 163, 184, 0.2);
  --border-input: rgba(148, 163, 184, 0.25);
  
  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 20px 45px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.5);
  
  /* Table specific */
  --table-header-bg: rgba(148, 163, 184, 0.08);
  --table-row-hover: rgba(148, 163, 184, 0.05);
  --table-border: rgba(148, 163, 184, 0.1);
  
  /* Button specific */
  --button-secondary-bg: rgba(148, 163, 184, 0.12);
  --button-secondary-hover: rgba(148, 163, 184, 0.18);
  
  /* Badge backgrounds */
  --badge-panel-bg: rgba(34, 197, 94, 0.15);
  --badge-accent-bg: rgba(59, 130, 246, 0.2);
  --badge-warning-bg: rgba(249, 115, 22, 0.15);
  --badge-danger-bg: rgba(239, 68, 68, 0.2);
  --badge-muted-bg: rgba(148, 163, 184, 0.15);
  
  /* Input/Form */
  --input-bg: #1e293b;
  --input-border: rgba(148, 163, 184, 0.25);
  --input-focus-ring: rgba(59, 130, 246, 0.25);
  
  /* Modal */
  --modal-overlay: rgba(0, 0, 0, 0.7);
  --modal-bg: #1e293b;
  
  /* Toggle (theme switcher) */
  --toggle-bg: rgba(148, 163, 184, 0.12);
  --toggle-border: rgba(148, 163, 184, 0.15);
  --toggle-hover: rgba(148, 163, 184, 0.18);
  --toggle-text: #94a3b8;
  --toggle-active-bg: #334155;
  --toggle-active-text: #f1f5f9;
  
  /* Status colors */
  --success-bg: rgba(34, 197, 94, 0.15);
  --warning-bg: rgba(245, 158, 11, 0.15);
  --error-bg: rgba(239, 68, 68, 0.15);
  
  /* Light entity (on state) */
  --light-on-gradient: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  --light-on-text: #451a03;
  --light-on-shadow: rgba(251, 191, 36, 0.5);
  --light-off-bg: rgba(148, 163, 184, 0.15);
  
  /* Code/mono text */
  --code-bg: rgba(148, 163, 184, 0.1);
  
  /* Direct/Link device highlights - DARK MODE: bright, electric colors */
  --highlight-direct: #86efac;
  --highlight-direct-glow: rgba(134, 239, 172, 0.75);
  --highlight-direct-glow-outer: rgba(134, 239, 172, 0.4);
  --highlight-link: #c4b5fd;
  --highlight-link-glow: rgba(196, 181, 253, 0.7);
  --highlight-link-glow-outer: rgba(196, 181, 253, 0.35);
  --highlight-row-bg: rgba(196, 181, 253, 0.1);
  
  /* Thorough mode colors - DARK MODE: bright gold/yellow */
  --thorough-bg: linear-gradient(135deg, rgba(253, 224, 71, 0.15) 0%, rgba(250, 204, 21, 0.1) 100%);
  --thorough-border: rgba(253, 224, 71, 0.35);
  --thorough-text: #fde047;
  --thorough-hint: #fef08a;
  --thorough-accent: #facc15;
  --thorough-input-border: rgba(253, 224, 71, 0.4);
  --thorough-suffix-bg: rgba(253, 224, 71, 0.2);
}

/* ============================================
   Base Styles
   ============================================ */
* {
  box-sizing: border-box;
}

html {
  color-scheme: light;
}

html.dark,
[data-theme="dark"] {
  color-scheme: dark;
}

body {
  margin: 0;
  background: var(--background);
  color: var(--foreground);
  transition: background-color 0.2s ease, color 0.2s ease;
}

main {
  min-height: 100vh;
}

/* Smooth transitions for theme changes */
*,
*::before,
*::after {
  transition-property: background-color, border-color, box-shadow;
  transition-duration: 0.15s;
  transition-timing-function: ease;
}

/* Disable transitions on page load to prevent flash */
.no-transitions *,
.no-transitions *::before,
.no-transitions *::after {
  transition: none !important;
}

/* Links */
a {
  color: var(--accent);
}

a:hover {
  color: var(--accent-hover);
}

/* Selection */
::selection {
  background: var(--accent);
  color: white;
}

/* Scrollbar styling for dark mode */
:root.dark ::-webkit-scrollbar,
[data-theme="dark"] ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

:root.dark ::-webkit-scrollbar-track,
[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--surface);
}

:root.dark ::-webkit-scrollbar-thumb,
[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 5px;
}

:root.dark ::-webkit-scrollbar-thumb:hover,
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: var(--muted);
}

/* ============================================
   Mobile Native App Styles
   ============================================ */

/* Enable smooth scrolling everywhere */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Prevent pull-to-refresh on Chrome Android */
body {
  overscroll-behavior-y: contain;
}

/* iOS momentum scrolling for all scrollable containers */
.scrollable,
[style*="overflow"] {
  -webkit-overflow-scrolling: touch;
}

/* Disable text selection for app-like feel on buttons */
button,
[role="button"] {
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Active state animations for touch feedback */
button:active:not(:disabled),
[role="button"]:active:not(:disabled),
.touchable:active {
  transform: scale(0.97);
  transition: transform 0.1s ease;
}

/* Mobile viewport safe areas */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* ============================================
   Mobile-First Media Queries
   ============================================ */

@media (max-width: 768px) {
  /* Larger touch targets */
  button,
  input[type="checkbox"],
  input[type="radio"],
  [role="button"] {
    min-height: var(--touch-target-min);
  }
  
  /* Better input sizing */
  input[type="text"],
  input[type="number"],
  input[type="search"],
  select {
    font-size: 16px !important; /* Prevent iOS zoom */
    min-height: var(--touch-target-min);
  }
  
  /* Prevent zoom on double-tap */
  * {
    touch-action: manipulation;
  }
}

/* Small phones */
@media (max-width: 380px) {
  :root {
    --mobile-spacing: 12px;
    --mobile-radius: 12px;
  }
}

/* ============================================
   Hide scrollbars on mobile for cleaner look
   ============================================ */
@media (max-width: 768px) {
  /* Hide scrollbars but keep functionality */
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
}
